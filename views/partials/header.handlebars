<nav
  class='nav bg-neutral flex flex-col lg:flex-row justify-between text-white p-8 relative z-10'
>
  <div class='flex justify-between items-center'>
    <a href='/' class='w-40 sm:w-64 h-auto'>
      <img
        src='/images/haapsalu-kolledzi-logo-mustal.svg'
        alt='Tallinna Ülikooli logo'
        style='max-height: 100px;'
      />
    </a>
    <span
      onclick='closeMenu()'
      class='material-symbols-outlined text-4xl cursor-pointer absolute right-8 lg:hidden text-xxl'
    >
      menu
    </span>
  </div>
  {{#if user}}
    <div class="flex flex-row justify-evenly items-center gap-x-4">
      <a href="/" class="!text-white !no-underline hover:!underline">Töölaud</a>
      {{!-- <a href="/" class="!text-white !no-underline hover:!underline">Kursused</a> --}}
      <a href="/notifications" class="!text-white !no-underline hover:!underline">Teated</a>
      {{#if_equal user.team.slug 'teachers'}}
        <a href="/progress-overview" class="!text-white !no-underline hover:!underline">Ülevaade</a>
      {{/if_equal }}
    </div>
  {{/if}}
  <div
    class='closing-menu flex flex-col lg:flex-row items-end absolute lg:relative w-full lg:w-auto left-0 pr-8 lg:pr-0 pb-8 lg:pb-0 bg-neutral top-[-350px] lg:!top-0 transition-all'
  >
    <span
      onclick='closeMenu()'
      class='mt-8 material-symbols-outlined text-4xl cursor-pointer lg:hidden text-xxl'
    >
      close
    </span>
    <div class="flex flex-row gap-4 items-start">
      {{#if user}}
        <div>
          <img src="{{ user._json.avatar_url }}" alt="Avatar" width="70px" height="70px" style="border-radius: 50%"> 
        </div>
      {{/if}}

      <div class="flex flex-col justify-items-start">
        {{#if user}}
          <ul>
            <li>GitHubi ID: {{ user.id }}</li>
            <li>GitHubi konto: <a href="{{ user.profileUrl }}" target="_blank" class="!text-white">{{ user.username }}</a></li>
            <li>Tiim: {{ user.team.name }}</li>
            {{#if user.displayName}}
              <li>Profiilinimi: {{ user.displayName }} <a href="/save-displayName" class="!text-white"><span class="material-symbols-rounded">Muuda</span></a></li>
            {{else }}
              <li>Profiilinimi: {{ user.username }} <a href="/save-displayName" class="!text-white"><span class="material-symbols-rounded">Muuda</span></a></li>
            {{/if }}
            {{#if_equal user.team.slug 'teachers'}}
              {{#if user.email}}
                <li>Email: {{ user.email }} <a href="/save-email" class="!text-white"><span class="material-symbols-rounded">Muuda</span></a></li>
              {{else }}
                <li><a href="/save-email" class="!text-white">Lisa email</a></li>
              {{/if }}
            {{/if_equal}}
          </ul>
        {{/if}}

        {{!-- 
        {{#unless user}}
          <a href="/login" class="!text-white">Logi sisse</a>
          
        <div class="dropdown relative">
          <button
            class="
              dropdown-toggle
              px-6
              py-2.5
              bg-blue-600
              text-white
              font-medium
              text-xs
              leading-tight
              uppercase
              rounded
              shadow-md
              hover:bg-blue-700 hover:shadow-lg
              focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0
              active:bg-blue-800 active:shadow-lg active:text-white
              transition
              duration-150
              ease-in-out
              flex
              items-center
              whitespace-nowrap
            "
            type="button"
            id="dropdownMenuButton1"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Dropdown button
          </button>
          <ul
            class="
              dropdown-menu
              min-w-max
              absolute
              hidden
              bg-white
              text-base
              z-50
              float-left
              py-2
              list-none
              text-left
              rounded-lg
              shadow-lg
              mt-1
              hidden
              m-0
              bg-clip-padding
              border-none
            "
            aria-labelledby="dropdownMenuButton1"
          >
          <li>
              <a
                class="
                  dropdown-item
                  text-sm
                  py-2
                  px-4
                  font-normal
                  block
                  w-full
                  whitespace-nowrap
                  bg-transparent
                  text-gray-700
                  hover:bg-gray-100
                "
                >Dropdown Button tekstile vajutades peaks siin olema sama Form, mida näidatakse peale "Logi sisse" vajutamist
                </a>
              </li>
          </ul>
        </div>
        {{/unless}}
        --}}
        
        {{#if user}}
          <a href="/logout" class="!text-white">Logi välja</a>
        {{/if}}
      </div>
    </div>
      <!-- google otsing -->
    <script async src='https://cse.google.com/cse.js?cx=42b628b4183f0478e'></script>
    <div class='gcse-search'></div>
    <!-- otsing -->
    {{! <div class='relative pt-4 pl-8'>
      <input
        class='border-2 border-gray-300 bg-white text-secondary-800 text-xs h-10 pr-8 pl-2 w-56'
        type='search'
        name='search'
      />
      <button type='submit' class='absolute right-0 mt-3 mr-4'>
        <svg
          class='text-gray-600 h-4 w-4 fill-current'
          xmlns='http://www.w3.org/2000/svg'
          xmlns:xlink='http://www.w3.org/1999/xlink'
          version='1.1'
          id='Capa_1'
          x='0px'
          y='0px'
          viewBox='0 0 56.966 56.966'
          style='enable-background:new 0 0 56.966 56.966;'
          xml:space='preserve'
          width='512px'
          height='512px'
        >
          <path
            d='M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23  s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92  c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17  s-17-7.626-17-17S14.61,6,23.984,6z'
          >
          </path>
        </svg>
      </button>
    </div> }}
  </div>
</nav>