<!DOCTYPE html>
<html lang='et'>

<head>
    <meta charset='UTF-8'/>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'/>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'/>
    <link rel='preconnect' href='https://fonts.googleapis.com'/>
    <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin/>
    <link
            rel='stylesheet'
            href='https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200'
    />

    <link rel="stylesheet" type="text/css" href="https://unpkg.com/tiny-markdown-editor@0.1.5/dist/tiny-mde.min.css"/>
    <!-- Static fails in /public folder.  -->

    <link rel='stylesheet' href='/css/main.css'/>

    <style>iframe {
        width: 1px;
        min-width: 100%;
    }
    </style>

    <!-- Sisuloome ja TLÜ Õppevara iframe'ide dynamic resize'mine -->
    <script src="https://sisuloome.e-koolikott.ee/modules/contrib/h5p/vendor/h5p/h5p-core/js/h5p-resizer.js"
            charset="UTF-8"></script>
    <script src="https://oppevara.tlu.ee/modules/contrib/h5p/vendor/h5p/h5p-core/js/h5p-resizer.js"
            charset="UTF-8"></script>
    <script src="https://unpkg.com/tiny-markdown-editor@0.1.5/dist/tiny-mde.min.js"></script>

    <title>Haapsalu kolledži ainekursused | {{#if config.courseName}}
        {{config.courseName}}
    {{/if}}</title>

    <script src="/js/dmswitch.js" defer></script>
    <script src='/js/js.js' defer></script>


</head>
<body
        onload="document.getElementById('main-content') .style.opacity='1'"
        class='min-h-screen flex flex-col justify-between m-0'
>
<a
        class='btn skip absolute left-[-1000px] mt-4 ml-4 px-4 py-2 bg-white'
        href='#main-content'
>Liigu põhisisu juurde</a>
<!-- Refers to header.handlebars fail in /partials folder -->
<header>
    {{> header }}
</header>
<!-- body shows /views folder content, at the moment home.handlebars. -->
{{{body}}}
<!-- Refers to footer.handlebars fail in /partials folder -->
<footer>
    {{> footer }}
</footer>

<script>
    // ------------------------------ Theme switcher -------------------------------//
    // Retrieve the HTML element
    const htmlElement = document.documentElement;

    // Retrieve the saved theme from local storage
    const savedTheme = localStorage.getItem('theme');

    // Add the saved theme class to the HTML element if it exists
    if (savedTheme) {
        htmlElement.classList.add(savedTheme);
    } else {
        htmlElement.classList.add('dark-theme'); // Add 'dark-theme' class by default
        localStorage.setItem('theme', 'dark-theme'); // Save the default theme in local storage
    }

    // Get the checkbox element
    const checkbox = document.getElementById('switch');

    // Function to toggle theme
    function toggleTheme() {
        if (htmlElement.classList.contains('light-theme')) {
            htmlElement.classList.remove('light-theme');
            checkbox.checked = true; // Update the checkbox state first
            setTimeout(function () {
                htmlElement.classList.add('dark-theme'); // Add the new class after a short delay
                localStorage.setItem('theme', 'dark-theme');
            }, 0);
        } else {
            htmlElement.classList.add('light-theme');
            checkbox.checked = false; // Update the checkbox state first
            setTimeout(function () {
                htmlElement.classList.remove('dark-theme'); // Remove the old class after a short delay
                localStorage.setItem('theme', 'light-theme');
            }, 0);
        }
    }

    // Initialize the checkbox state based on the saved theme
    checkbox.checked = savedTheme !== 'light-theme';

    // ------------------------------ End of Theme switcher -------------------------------//
</script>


</body>
</html>